/*! For license information please see bundle.e5684f1b8cc94c98c2b4.js.LICENSE.txt */
"use strict";(self.webpackChunkhospital_management_frontend=self.webpackChunkhospital_management_frontend||[]).push([[793],{7793(t,e,n){n.r(e),n.d(e,{default:()=>O});var r=n(6540),i=n(7767),o=n(9210),a=n(322),c=n(816),s=n(8220),l=n(7548),u=n(4848);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){m(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function m(t,e,n){return(e=function(t){var e=function(t){if("object"!=f(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==f(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var s=r&&r.prototype instanceof c?r:c,l=Object.create(s.prototype);return h(l,"_invoke",function(n,r,i){var o,c,s,l=0,u=i||[],f=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,n){return o=e,c=0,s=t,p.n=n,a}};function d(n,r){for(c=n,s=r,e=0;!f&&l&&!i&&e<u.length;e++){var i,o=u[e],d=p.p,m=o[2];n>3?(i=m===r)&&(s=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=t):o[0]<=d&&((i=n<2&&d<o[1])?(c=0,p.v=r,p.n=o[1]):d<m&&(i=n<3||o[0]>r||r>m)&&(o[4]=n,o[5]=r,p.n=m,c=0))}if(i||n>1)return a;throw f=!0,r}return function(i,u,m){if(l>1)throw TypeError("Generator is already running");for(f&&1===u&&d(u,m),c=u,s=m;(e=c<2?t:s)||!f;){o||(c?c<3?(c>1&&(p.n=-1),d(c,s)):p.n=s:p.v=s);try{if(l=2,o){if(c||(i="next"),e=o[i]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,c<2&&(c=0)}else 1===c&&(e=o.return)&&e.call(o),c<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),c=1);o=t}else if((e=(f=p.n<0)?s:n.call(r,p))!==a)break}catch(e){o=t,c=1,s=e}finally{l=1}}return{value:e,done:f}}}(n,i,o),!0),l}var a={};function c(){}function s(){}function l(){}e=Object.getPrototypeOf;var u=[][r]?e(e([][r]())):(h(e={},r,function(){return this}),e),f=l.prototype=c.prototype=Object.create(u);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,l):(t.__proto__=l,h(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=l,h(f,"constructor",l),h(l,"constructor",s),s.displayName="GeneratorFunction",h(l,i,"GeneratorFunction"),h(f),h(f,i,"Generator"),h(f,r,function(){return this}),h(f,"toString",function(){return"[object Generator]"}),(y=function(){return{w:o,m:p}})()}function h(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}h=function(t,e,n,r){function o(e,n){h(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},h(t,e,n,r)}function x(t,e,n,r,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function a(t){x(o,r,i,a,c,"next",t)}function c(t){x(o,r,i,a,c,"throw",t)}a(void 0)})}}function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return j(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var g={PENDING:"warning",CONFIRMED:"primary",COMPLETED:"success",CANCELLED:"danger"};const O=function(){var t=(0,l.As)().user,e=(0,i.Zp)(),n=b((0,r.useState)([]),2),f=n[0],p=n[1],m=b((0,r.useState)(!0),2),h=m[0],x=m[1];(0,r.useEffect)(function(){j()},[]);var j=function(){var t=v(y().m(function t(){var e,n;return y().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,x(!0),t.n=1,o.qJ.getMyAppointments();case 1:n=t.v,p((null===(e=n.data)||void 0===e?void 0:e.data)||[]),t.n=3;break;case 2:t.p=2,t.v;case 3:return t.p=3,x(!1),t.f(3);case 4:return t.a(2)}},t,null,[[0,2,3,4]])}));return function(){return t.apply(this,arguments)}}(),O=function(t){return t?t.includes("T")?t.split("T")[0]:t:""},N=(new Date).toISOString().split("T")[0],w=new Date;w.setDate(w.getDate()-w.getDay());var P=new Date(w);P.setDate(P.getDate()+6);var S=f.filter(function(t){return O(t.appointment_date)===N}),D=f.filter(function(t){var e=new Date(O(t.appointment_date));return e>=w&&e<=P}),E=f.filter(function(t){return"PENDING"===t.status}),A=function(){var t=v(y().m(function t(e,n){return y().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,o.qJ.updateAppointmentStatus(e,n);case 1:p(function(t){return t.map(function(t){return t.id===e?d(d({},t),{},{status:n}):t})}),t.n=3;break;case 2:t.p=2,t.v;case 3:return t.a(2)}},t,null,[[0,2]])}));return function(e,n){return t.apply(this,arguments)}}(),C=function(t){if(!t)return"";var e=b(t.split(":"),2),n=e[0],r=e[1],i=parseInt(n,10),o=i>=12?"PM":"AM";return"".concat(i%12||12,":").concat(r," ").concat(o)};return(0,u.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,u.jsx)(s.A,{user:t}),(0,u.jsxs)("div",{className:"flex-1",children:[(0,u.jsx)(c.A,{title:"Dashboard"}),(0,u.jsx)("main",{className:"p-6",children:h?(0,u.jsx)(a.aH,{}):(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,u.jsxs)(a.Zp,{children:[(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Total Appointments"}),(0,u.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:f.length})]}),(0,u.jsxs)(a.Zp,{children:[(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Today's Appointments"}),(0,u.jsx)("p",{className:"text-2xl font-bold text-primary-600",children:S.length})]}),(0,u.jsxs)(a.Zp,{children:[(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"This Week"}),(0,u.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:D.length})]}),(0,u.jsxs)(a.Zp,{children:[(0,u.jsx)("p",{className:"text-sm text-gray-500",children:"Pending"}),(0,u.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:E.length})]})]}),(0,u.jsxs)(a.Zp,{children:[(0,u.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Today's Schedule"}),0===S.length?(0,u.jsx)("p",{className:"text-gray-500 text-sm",children:"No appointments scheduled for today."}):(0,u.jsx)("div",{className:"space-y-3",children:S.map(function(t){return(0,u.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,u.jsxs)("div",{className:"flex items-center gap-4",children:[(0,u.jsx)("div",{className:"w-10 h-10 rounded-full bg-primary-100 text-primary-700 flex items-center justify-center font-semibold",children:(t.patient_name||"P")[0].toUpperCase()}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"font-medium text-gray-800",children:t.patient_name||"Patient"}),(0,u.jsxs)("p",{className:"text-sm text-gray-500",children:[C(t.appointment_time)," â€¢"," ",t.reason||"Consultation"]})]})]}),(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)(a.Ex,{variant:g[t.status]||"default",children:t.status}),"PENDING"===t.status&&(0,u.jsx)(a.$n,{size:"sm",onClick:function(){return A(t.id,"CONFIRMED")},children:"Confirm"}),"CONFIRMED"===t.status&&(0,u.jsx)(a.$n,{size:"sm",variant:"secondary",onClick:function(){return A(t.id,"COMPLETED")},children:"Complete"})]})]},t.id)})})]}),(0,u.jsxs)(a.Zp,{children:[(0,u.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Actions"}),(0,u.jsxs)("div",{className:"flex gap-3",children:[(0,u.jsx)(a.$n,{onClick:function(){return e("/doctor/availability")},children:"Add Availability"}),(0,u.jsx)(a.$n,{variant:"secondary",onClick:function(){return e("/doctor/appointments")},children:"View All Appointments"})]})]})]})})]})]})}}}]);